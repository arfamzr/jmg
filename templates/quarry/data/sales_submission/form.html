{% extends 'layouts/base.html' %}

{% load crispy_forms_tags %}

{% block content %}
<!-- Begin Page Content -->
<div class="container-fluid">

  <!-- Page Heading -->
  <h1 class="h3 mb-4 text-gray-800">{{ title }}</h1>

  <form action="." method="post">
    {% csrf_token %}

    <div class="row">
      <div class="col-lg-12">
        {{ form|crispy }}
      </div>
    </div>

    <div class="row">
      <div class="col-4 col-lg-3 mt-3 ml-auto">
        <button type="submit" class="btn btn-info btn-user btn-block">
          Hantar
        </button>
      </div>
    </div>
  </form>

</div>
<!-- /.container-fluid -->
{% endblock content %}

{% block extra_js %}
<script>
  const amount = document.getElementById('id_amount')
  const worth = document.getElementById('id_worth')
  const total = document.getElementById('id_total')

  const set_total = () => {
    let total_submission = (parseFloat(amount.value) || 0) * (parseFloat(worth.value) || 0)
    total.value = total_submission
  }

  amount.addEventListener("change", () => {
    set_total()
  })

  worth.addEventListener("change", () => {
    set_total()
  })
</script>
{% endblock extra_js %}